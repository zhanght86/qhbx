function DropDown(a,b,c){function v(){if(o){o(n)}}function u(){if(f=="color-dropdown"){if(g)j.innerHTML="颜色:"+g;return}j.innerHTML=m+n}function t(){i.setAttribute("class",d);k.setAttribute("class",e);document.removeEventListener("mousedown",r,false)}function s(){i.setAttribute("class",d+" open");k.setAttribute("class",e+" open");document.addEventListener("mousedown",r,false)}function r(b){var c=b.target;var d=true;while(c&&c.getAttribute){var e=c.getAttribute("id");if(e&&e==a){d=false;break}c=c.parentNode}if(d){t()}}var d="dropdown-title";var e="dropdown-list";var f=a;var g="黑色";var h=document.getElementById(a);var i=document.getElementById(b);var j=i.getElementsByTagName("span")[0];var k=document.getElementById(c);var l=k.getElementsByTagName("a");var m=j.innerHTML;var n=null;var o=null;i.addEventListener("click",function(a){var b=i.getAttribute("class");if(b&&b.match(/open/gi)){t()}else{s()}},false);i.addEventListener("mousedown",function(a){a.preventDefault()},false);for(var p=0;p<l.length;p++){var q=l[p];q.addEventListener("click",function(a){n=a.target.getAttribute("data-value");g=a.target.innerHTML;u();t();v();a.preventDefault()},false)}this.setSelectionCallback=function(a){o=a};this.setValue=function(a){n=a;u();};this.getValue=function(a){return n};this.setClick=function(value){l[value].click()}};